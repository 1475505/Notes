# 批处理系统

## MapReduce 查询
![image.png](http://img.070077.xyz/20230115154344.png)

MongoDB 使用 MapReduce ，是一种介于
- **声明式**：用户不必显式定义数据集的遍历方式、shuffle 过程等执行过程。
- **命令式**：用户又需要定义针对单条数据的执行过程。
两者间的混合数据模型。

其中：
1.  **要求 Map 和 Reduce 是纯函数**。即无任何副作用，在任意地点、以任意次序执行任何多次，对相同的输入都能得到相同的输出。因此容易并发调度。
2.  **非常底层、但表达力强大的编程模型**。可基于其实现 SQL 等高级查询语言，如 Hive。